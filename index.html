<html>
  <head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://sdk.altvr.com/libs/altspace.js/2.9.0/altspace.min.js"></script>
  </head>
  <body>
    <a-scene sync-system='app: Tatooine; author: Altspace' altspace="fullspace:true;">
      <a-assets>
        <img id="thesky" src="sky_redsunset1200.jpg">
        <img id="btn" src="main_bottom/btn1.png">
      </a-assets>
      <a-entity obj-model="mtl:main_top/main_top.mtl;obj:main_top/main_top.obj" id="main_top"></a-entity>
      <a-entity obj-model="mtl:main_bottom/main_bottom.mtl;obj:main_bottom/main_bottom.obj" id="main_bottom"></a-entity>
      <a-entity obj-model="mtl:main_bottom/rocks.mtl;obj:main_bottom/rocks.obj" id="rocks"></a-entity> 
      <a-entity obj-model="mtl:scaffoldobj/materials.mtl;obj:scaffoldobj/scaf.obj" id="scaff"></a-entity>
      <a-entity position="4.572 0.293 0.086" scale="2.882 0.237 1.965" geometry="" id="lift" >
          <a-animation attribute="position" to="4.572 0.293 0.086" from="4.572 8.185 0.086" dur="5000" begin="elevator_down" sync></a-animation>         
          <a-animation attribute="position" from="4.572 0.293 0.086" to="4.572 8.185 0.086" dur="5000" begin="elevator_up" sync></a-animation>
    
        </a-entity>
        <a-entity position="3.102 0 -2.515" geometry="" id="el_up" material="color:#15965a;src:#btn;"></a-entity>
        <a-entity position="3.102 0 2.026" geometry="" id="el_down" material="color:green;src:#btn;"></a-entity>
      <a-sky src="#thesky" radius="2500"></a-sky>
      <!-- Match Gear VR controller if present, regardless of hand. -->
<a-entity gearvr-controls></a-entity>
<a-entity position="1 1 1" camera="active:true;userHeight:1.6" wasd-controls="easing:20.01;fly:true;acceleration:165" rotation="-38.80136368210983 -1208.0242228532563 0" look-controls="" aframe-injected="" data-aframe-inspector-original-camera="" data-aframe-inspector="default-camera"></a-entity>

    </a-scene>
    <script>
    var sceneEl = document.querySelector('a-scene');
      //sceneEl.querySelector('.tarot_card').setAttribute('rotation', '90 0 0');
      var el_up = sceneEl.querySelector('#el_up');
      var el_down = sceneEl.querySelector('#el_down');
      var lift = sceneEl.querySelector('#lift');
      el_up.addEventListener('click', function (event) {
        console.log('ani started', event);
        lift.emit('elevator_up', 'text', true);
      });
      el_down.addEventListener('click', function (event) {
        console.log('ani started', event);
        lift.emit('elevator_down', 'text', true);
      });
    </script>
  </body>
</html>